@use "sass:list";
@use "sass:meta";
@use '../../source/Variables';
@use '../shared/innerContent' as ic;
@use '../courseVideo' as cv;
@use "../sampleVideo" as sv;
.journal {
    --background: white;
    --p: #383838;
    --h2: #e30613;
    --h3: #1d71b8;
    --containerPadding: 30px; //has to be px for (fullscreen) to work
    font-size: 1.3em;
    padding: var(--containerPadding);
    color: var(--p);

    @mixin fullscreen() {
        margin-left: calc(-1 * var(---containerPadding));
        margin-right: calc(-1 * var(---containerPadding));
    }

    @include ic.innerContent;
    /*.node {
        --h_compliment: #608b68;
        --colorTheme: #608b68;
        --colorAlt: #608b68;
    }*/

    table {

        &,
        tr,
        td,
        tbody {
            display: block
        }
    }

    video,
    .h_iframe-aparat_embed_frame {
        margin: 2em auto;
        max-width: 44em;
        margin-bottom: 2em;
        display: block;
    }

    .titleContainer {
        --iconWidth: 7.2rem;
        display: grid;
        grid-template-areas:
            "image title";
        grid-template-columns: var(--iconWidth) auto;
        align-items: center;
        max-width: 68em;
        margin: auto;
        margin-bottom: 2em;

        .image {
            grid-area: image;
            width: var(--iconWidth);
            height: 6rem;

            &.backgroundLoaded {
                background-image: url("/Courses/CourseContent/Asset 15-8.png");
            }
        }

        .title {
            grid-area: title;
            width: 100%;
            text-align: center;
            margin: 0;
        }
    }

    .collapsible {
        background: #dfdfdf;
        border-radius: 50%;
        cursor: pointer;
        transition: .2s;
        padding: 0.9em;
        font-size: 0.7em;
        height: 0;
        width: 0;
        display: inline-flex;
        justify-content: center;
        align-items: center;

        &:hover,
        &.active {
            background: #b1b1b1;
        }

        &::before {
            content: "";
        }

        &.active::before {
            content: "";
        }

        + .collapsibleContent {
            max-height: 0;
            overflow: hidden;
            transition: 0.5s cubic-bezier(.22, .61, .36, 1);

            &.active {
                max-height: var(--maxHeight);
            }
        }
    }

    .section {
        border-bottom: 7px solid transparent;
        border-image: linear-gradient(to right, white, #1d71b8, white);
        border-image-slice: 1;
        text-align: center;
        padding: 1em;
        margin: 2em 0;

        &, & h3, & h2 {
            color: var(--h3);
            font-weight: bold;
            font-size: 1.16rem;
        }
    }

    .workshop {
        .image {
            background-image: url("/Courses/CourseContent/Asset 9-8.png");
            width: 50%;
            padding-bottom: 13%;
            margin: auto;
            margin-bottom: 3em;
        }

        .title {

            h3,
            .subtitle {
                color: var(--h2);
                font-size: 1em;
                padding-right: 4em;
                margin-bottom: 1rem;
            }

            position: relative;
            width: 90%;
            margin: auto;
            border-bottom: 7px solid transparent;
            border-image: linear-gradient(to right, white, #d1921a, white);
            border-image-slice: 1;
            margin-bottom: 2em;

            &::before {
                content: "";
                width: 4.1em;
                height: 3.6em;
                display: block;
                position: absolute;
                right: 0;
                bottom: .2em;
                background: url("/Courses/CourseContent/Asset 10-8.png");
                background-size: contain;
            }
        }
    }
    //structure-------------------------------

    > * {
        margin-bottom: 2em;

        .image,
        .outside {
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }
    }

    .div0 {

        * ol,
        * ul {
            margin-right: 1em;

            li {
                margin: 0;
            }
        }
    }

    .lightBlueDiv {
        --background: #D9EBFC;
        --p: #445b72;
        --h2: #c41835;
        padding: 2.5em;
        border-radius: 1.2em;
        display: grid;
        grid-template-columns: 63% auto;
        grid-template-areas: "right image";
        font-weight: 700;

        .image {
            grid-area: image;
            padding-bottom: 70%;

            &.backgroundLoaded {
                background-image: url("/Courses/CourseContent/Asset 8-8.png");
            }
        }

        .right {
            grid-area: right;

            h3,
            h2,
            .title {
                margin-bottom: 2em;
            }

            p {
                text-align: justify;
            }
        }
    }

    .adsDiv {
        @include fullscreen;

        h2,
        h3,
        h4 {
            background: #F2F2F2;
            color: white;
            text-align: center;
            font-family: balooBold;
            padding: 0.8em;
            font-size: 4em;
            text-shadow: 2px 2px 2px rgba(86, 86, 86, .4);
            line-height: 1em;
        }

        &.small {
            h2, h3, h4 {
                font-size: 2.8em;
            }
        }
    }

    .lightGrayDiv,
    .lightGrayTable {
        @include fullscreen();
        --background: #E7E7E7;
        --h2: #e6007e;
        padding: 2em;
        padding-bottom: 3em;

        > .img {
            height: 185px;
            width: 296px;
            margin: 0em auto;
            margin-bottom: 0em;
            margin-bottom: 2em;
            background-size: contain;

            &.backgroundLoaded {
                background-image: url("/Courses/CourseContent/Asset 2-8.png");
            }
        }

        .titleContainer {
            flex-direction: row-reverse;

            h2,
            h3,
            .title,
            .subtitle {
                text-align: right;
                padding-right: 3%;
            }

            .image.backgroundLoaded {
                background-image: url("/Courses/CourseContent/Asset 7-8.png");
            }
        }
    }

    .lightGrayTable {
        --h2: #e30613;

        .titleContainer .image.backgroundLoaded {
            background-image: url("/Courses/CourseContent/Asset 1-8.png");
        }

        .tableContainer {
            background: white;
            margin: 2em -2em;
            padding: 2em;

            &:last-child {
                margin-bottom: -3em;
            }

            p {
                color: #a8a8a8;
                font-weight: 600;
            }

            h3,
            .subtitle {
                font-weight: 900;
            }

            .mytable {
                color: black;
                font-weight: 600;
                font-size: 1em;
                border: .2em solid #f2f2f2;
                background: white;
                margin: 2em 0;

                .tr {
                    display: grid;
                    grid-template-columns: 14em repeat(auto-fit, 10em);
                    gap: 0.2em;

                    .td {
                        text-align: center;
                        padding: 0.3em;
                        line-height: 2.1em;
                    }

                    &:first-child {
                        .td:not(:first-child) {
                            clip-path: polygon(0 0, 100% 0, 100% 65%, 50% 100%, 0 65%);
                            color: white;
                            padding-bottom: 1em;
                        }

                        .td:first-child {
                            color: var(--h3);
                            font-size: 1.1em;
                        }

                        $colors: initial, #f9b233, #f3502b, #85c9f6, #4ce579, #66dada;

                        @for $i from 1 through list.length($colors) {
                            .td:nth-child(#{$i}) {
                                $item: list.nth($colors, $i);
                                background: $item;
                            }
                        }

                        .td.blue {
                            background: #1d71b8;
                        }
                    }

                    &:nth-child(2n) {
                        background-color: #e7e7e7;
                    }
                }
            }
        }
    }

    .goalsDiv {
        --p: black;
        padding: 0 15%;

        .title {
            text-align: center;
            font-size: 1.7em;
            font-weight: 600;
            padding: 1em 0;
            margin-bottom: 1em;
            line-height: 1.3em;

            &.bigTitle {
                font-weight: 500;
                font-size: 2.3em;
                color: #1d600d;
            }
        }

        .image {
            height: 80vw;
            max-width: 17em;
            max-height: 17em;
            margin: auto;
            margin-bottom: 3em;

            &.backgroundLoaded {
                background-image: url("/Courses/CourseContent/PNG-8.png");
            }
        }

        ol,
        ul {
            max-width: 61em;
            margin: auto;
            text-align: justify;
            font-weight: bold;

            p,
            .body {
                padding: 1em 2.4em;
                font-size: 1em;
            }

            li {
                list-style-type: disc;
            }
        }
    }

    .whiteSmokeDiv,
    .projectBox {
        @include fullscreen;
        --background: #E7E7E7;
        display: grid;
        gap: 1.3em;
        grid-template-columns: 4fr 6fr;
        grid-template-areas: "outside left";
        padding: 1.4em;

        > * {
            border-radius: .8em;
            background: white;
            padding: 2em;
        }

        .outside {
            grid-area: outside;
            padding: 0;
            min-height: 17em;

            .image.backgroundLoaded {
                background-size: auto;
                background-image: url("/Courses/CourseContent/Asset 14-8.png");
                width: 100%;
                height: 100%;
            }
        }

        .left {
            grid-area: left;

            h2,
            .title {
                text-align: center;
                font-size: 1.4em;
            }

            p {
                text-align: justify;
            }
        }

        .bottom {
            grid-column: 1 / 3;
        }
    }

    .whiteSmokeDiv {
        &.withImage {
            > .outside {
                background-color: transparent;

                > img {
                    height: 100%;
                }
            }
        }
    }

    .projectBox {
        /*grid-template-areas: "right outside";*/
        background: var(--background);
        margin-bottom: 2em;

        *:not(h3, h2, .title, .subtitle) {
            color: var(--h3);
            font-weight: bold;
            font-size: 1em;
        }

        .outside .image.backgroundLoaded {
            background-image: url("/Courses/CourseContent/Asset 11-8.png");
        }

        > * {
            border: 1px solid #c4e0ff;

            ul,
            ol,
            ul li,
            ol li {
                margin: 0;
            }
        }
    }

    .normalDiv {
        padding: 0 2em;

        .titleContainer {
            flex-direction: row-reverse;

            .image {
                &.backgroundLoaded {
                    background-image: url("/Courses/CourseContent/Asset 6-8.png");
                }
            }
        }

        .img {
            height: 49vw;
            max-width: 31em;
            width: 100%;
            max-height: 17em;
            margin: auto;
            margin-bottom: 3em;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;

            &.backgroundLoaded {
                background-image: url("/Courses/CourseContent/Asset 5-8.png");
            }
        }

        p,
        .body,
        ul,
        ol {
            /*font-weight: bold*/
        }
    }

    .titlesDiv {
        .titleContainer .image.backgroundLoaded {
            background-image: url("/Courses/CourseContent/Asset 12-8.png");
        }

        > ol {
            > li {
                margin-bottom: 1em;

                &::marker {
                    color: var(--h3);
                    font-weight: bold;
                }
            }

            > ol {
                margin-right: 1.7em;
                margin-bottom: 3em;
            }
        }
    }

    .courseVideo {
        @include fullscreen;
    }

    .threeD {
        --background: #E7E7E7;
        border: .1em solid #c1c1c1;
        border-radius: 1.2em;
        padding: 1em 2em;

        object {
            width: 100%;
            height: 45vw;
        }

        .download a {
            display: block;
            text-align: center;
            color: blue;
            font-size: 0.8em;
            font-weight: bold;
        }
    }

    .courseVideo {
        @include cv.courseVideo;
    }

    .videoAndQuestion {
        display: flex;
        flex-direction: column;
        gap: 6em;
        margin-bottom: 3em;

        > .item {
            display: flex;
            gap: 2%;

            &:nth-child(even) {
                flex-direction: row-reverse;
            }

            > .context, > .sample-video {
                width: 49%;
                flex-shrink: 0;
            }

            > .sample-video {
                video {
                    height: auto;
                }
            }
        }
    }

    .sample-video {
        @include sv.sample-video;
    }

    @include meta.load-css('../photoViewer');

    @include Variables.media(Variables.$screen) {
        .videoAndQuestion {
            gap: 3em;

            > .item {
                flex-direction: column-reverse !important;

                > .context, > .sample-video {
                    width: 100%;
                }
            }
        }
    }

    @include Variables.media(Variables.$laptop) {
        .whiteSmokeDiv {
            &.withImage {
                flex-direction: column;
                display: flex;
                background: none;
                gap: 2em;

                > .outside {
                    background: unset;
                }
            }
        }
    }

    @include Variables.media(Variables.$tablet) {
        .sample-video {
            > svg {
                --wid: 11vw;
            }
        }
    }


    @include Variables.media(Variables.$mobile) {
        @at-root html {
            font-size: 0.9em;
        }

        --containerPadding: 10px;

        li {
            margin-right: 0 !important;
            list-style-position: inside;

            > h3, h4, h5 {
                &:first-child {
                    display: inline !important;
                }
            }
        }

        .titleContainer {
            --iconWidth: 5em;

            .title {
                text-align: center !important;
            }
        }

        .goalsDiv,
        .lightBlueDiv,
        .normalDiv .left {
            padding: 0;
        }

        .whiteSmokeDiv {
            &.withImage {
                > .outside {
                    background: unset;
                }
            }
        }

        .goalsDiv {
            .title {
                &.bigTitle {
                    font-size: 1.7em;
                }
            }
        }

        .lightGrayDiv,
        .whiteSmokeDiv,
        .lightGrayTable,
        .threeD,
        .projectBox {
            padding: .6rem;
        }

        .lightBlueDiv,
        .whiteSmokeDiv,
        .projectBox {
            flex-direction: column;
            display: flex;
            background: none;
            gap: 2em;

            .image {
                order: 1;
                background-color: var(--background);
                border-radius: 50%;
                padding-bottom: 100%;
                background-size: 63%;
            }

            .right,
            .left {
                order: 2;
            }
        }

        .whiteSmokeDiv,
        .projectBox {
            .outside {
                background: linear-gradient(to left, #1d71b8, #e6007e);
                border-radius: 50%;
                padding: 1.3em;

                .image.backgroundLoaded {
                    background-size: 105%;
                    background-color: white;
                }
            }
        }

        .projectBox .outside {
            background: linear-gradient(to left, #ffc000, #e6007e);
        }

        .adsDiv h2 {
            padding: 0.5em;
            font-size: 2.7rem;
        }

        .workshop {
            .image {
                width: 100%;
                padding-bottom: 47%;
            }

            .title {
                width: 100%;
            }
        }

        .lightGrayTable .tableContainer .mytable {
            font-size: .7em;

            .tr {
                grid-template-columns: repeat(5, 19.4%);
            }
        }

        .threeD {
            @include fullscreen();
        }

        .adsDiv {

            h2,
            h3,
            h4 {
                font-size: 2.7rem;
                padding: 1em 0;
            }

            margin-bottom: 2rem;
        }

        p,
        ol,
        ul {
            &:not(.exception) {
                font-size: .975rem;
            }
        }
    }
}
