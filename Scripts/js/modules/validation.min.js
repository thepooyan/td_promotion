"use strict";(function(){
//! ------my validation
function n(n){function f(t,i){n.errorList[t]={order:r[t],content:i}}function e(t){delete n.errorList[t]}function t(n,t,i,r){typeof n=="function"&&(n=n());n?f(i,t,r):e(i)}function o(n){return String(n).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}function s(i,r){var f,u,s,e,h;switch(i){case"notEmpty":t(r==="","لطفا کادر را خالی نگذارید!",i);break;case"length":n.dataset.length&&t(r.length!=n.dataset.length,"طول کاراکتر وارد شده باید "+n.dataset.length+" باشد",i);n.dataset.minlength&&t(r.length<n.dataset.minlength,"طول کاراکتر وارد شده باید بیشتر از "+n.dataset.minlength+" باشد",i);n.dataset.maxlength&&t(r.length>n.dataset.maxlength,"طول کاراکتر وارد شده باید کمتر از "+n.dataset.maxlength+" باشد",i);break;case"number":t(function(){return isNaN(r)},"فرمت کاراکتر وارد شده صحیح نمیباشد",i);break;case"email":t(function(){return!o(r)},"ایمیل وارد شده نادرست میباشد",i);break;case"NEQ":f="مقدار نمی‌تواند برابر با "+n.dataset.neq+" باشد";n.dataset.neqerror&&(f=n.dataset.neqerror);t(r===n.dataset.neq,f,i);break;case"EQU":u=undefined;n.dataset.equ.startsWith("ele=>")?(s=n.dataset.equ.substring(5),e=dc.query(s),u=e.value||e.innerHTML):u=n.dataset.equ;t(r!==u,"تکرار کلمه عبور مطابقت ندارد",i);break;case"noSpace":t(r.includes(" "),"لطفا از فاصله استفاده نکنید",i);break;case"usePersian":h=new RegExp("[؀-ۿ]");t(!h.test(r),"لطفا از کیبرد فارسی استفاده کنید",i)}}var r={notEmpty:0,number:1,email:1,NEQ:1,length:2,noSpace:3,usePersian:4},u=JSON.parse(n.dataset.validate),i=n.nextElementSibling;if(n.errorList={},!n.classList.contains("noValidate")){if(!i||!i.classList.contains("validationMsg")){console.log(n);console.log("above logged input has no validation box. do not interfier with creation of span with 'validationMsg' class");return}u.forEach(function(t){s(t,n.value)})}}function t(n,t){var i=n.nextElementSibling;Object.keys(n.errorList).length===0?(i.classList.remove("show"),n.classList.remove("validationError")):function(){var r=Object.values(n.errorList).reduce(function(n,t){return n.order<t.order?n:t}).order,u=Object.values(n.errorList).filter(function(n){return n.order===r});u.forEach(function(r,u){u===0?i.innerHTML=r.content:i.innerHTML+=" و "+r.content;i.classList.add("show");n.classList.add("validationError");t&&t()})}()}function i(n,t){n.parentNode.insertBefore(t,n.nextSibling)}function r(i){return new Promise(function(r,u){i.querySelectorAll("[data-validate]").forEach(function(i){n(i);t(i,u)});r()})}function u(){dc.queries("[data-validate]").forEach(function(r){var u=r.nextElementSibling;u&&u.classList.contains("validationMsg")||(u=document.createElement("span"),u.classList.add("validationMsg"),i(r,u));r.onchange=function(){n(r);t(r)}})}function f(n){n.querySelectorAll(".validationError").forEach(function(n){n.classList.remove("validationError")});n.querySelectorAll(".validationMsg.show").forEach(function(n){n.classList.remove("show")})}window.clearValidationAlerts=f;window.setValidations=u;window.validateSection=r})();